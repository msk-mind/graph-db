# load a list of delta tables into neo4j - one node per record
load: [
    # specify as a python dict, the path to delta table,
    # and node label, primary keys and properties for each node/record
    delta_table: "{ 'path': 'tests/input_data/user_table',
                    'label': 'User',
                    'primary_keys': ['id', 'firstname'],
                    'properties': ['middlename', 'lastname', 'gender', 'salary'] }"

]

# execute the following cipher queries in sequence in order to build relationships
cipher: [

    # specify cipher query
    cipher: "MERGE (u:User {uid: row.uid})
                ON CREATE SET
                u.firstName = row.firstName,
                u.lastName = row.lastName,
                u.age = toInteger(row.age),
                u.cityLived = row.cityLived;",

    cipher: "y"
]